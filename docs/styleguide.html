<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <!-- Basic -->
    <title>Styleguide | ReactQL</title>
    <meta name="description" content="Tweaked Airbnb ESLinting - with extra super powers">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- favicons -->
    <link rel="shortcut icon" type="image/png" href="images/favicons/32x32.png" sizes="32x32" />
    <link rel="shortcut icon" type="image/png" href="images/favicons/16x16.png" sizes="16x16" />

    <!-- Social -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://reactql.org">
    <meta property="og:title" content="Styleguide | ReactQL">
    <meta property="og:description" content="Tweaked Airbnb ESLinting - with extra super powers">
    <meta property="og:image" content="">
    <meta name="twitter:card" content="summary_image_large">
    <meta name="twitter:site" content="">
    <meta name="twitter:title" content="Styleguide | ReactQL">
    <meta name="twitter:description" content="Tweaked Airbnb ESLinting - with extra super powers">
    <meta name="twitter:image" content="">

    <!-- Misc -->
    <meta name="google-site-verification" content="" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,300italic,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/docs/style/style.css">
  </head>
  <body class="">
    

<div class="nav dark">
  <div class="nav-group">
    <div class="nav-item show-mobile">
      <span class="js-sidebar-toggle ">
        <span class="icon-menu"></span>
      </span>
    </div>
    <div class="nav-item">
      
      <a class="logo-wrapper" href="https://reactql.org" title="ReactQL Docs Modern stack for React+GraphQL"  >
        <img src="images/reactql-logo.svg" alt="ReactQL Docs" class="logo"/>
      </a>
    </div>
  </div>

  <div class="nav-group right">
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="https://reactql.org"  >
          <span>Main site</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="https://github.com/reactql/cli"  >
          <span>Github</span>
        </a>
      </div>
    
  </div>
</div>

<div class="sidebar">
  <div class="panel">
    <div class="panel-item">
      <a class="" href="https:/reactql.org" title="ReactQL Docs"  >
        <span>ReactQL Docs Modern stack for React+GraphQL</span>
      </a>
    </div>
    
      <div class="panel-item "">
        <a class="" href="https://reactql.org"  >
          <span>Main site</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="https://github.com/reactql/cli"  >
          <span>Github</span>
        </a>
      </div>
    
  </div>

  <div class="sidebar-content">
    <div class="topcap">
      <span class="title-sidebar">ReactQL</span>
      
    </div>

    

    <ul class="toc">
      
        <li>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="index.html" class="sidebar-link ">
                  <span>Welcome</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Setup</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="setup.html" class="sidebar-link ">
                  <span>Installation</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="layout.html" class="sidebar-link ">
                  <span>Project layout</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Writing Code</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc  current">
                <a href="" class="sidebar-link  current">
                  <span>Styleguide</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="modules.html" class="sidebar-link ">
                  <span>Module resolution</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="graphql.html" class="sidebar-link ">
                  <span>GraphQL components</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">CSS Styles</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="css.html" class="sidebar-link ">
                  <span>CSS stylesheets</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Concepts</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="routing.html" class="sidebar-link ">
                  <span>Routing</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="bundling.html" class="sidebar-link ">
                  <span>Code bundling</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="ssr.html" class="sidebar-link ">
                  <span>Server side rendering (SSR)</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="env.html" class="sidebar-link ">
                  <span>Server/browser awareness</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Resources</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="faq.html" class="sidebar-link ">
                  <span>FAQ</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="support.html" class="sidebar-link ">
                  <span>Support</span>
                </a>
              </li>
            
          </ul>
        </li>
      
    </ul>
  </div>
</div>

<div class="content">
  <div class="content-wrapper">
    <div class="header-content">
      <h1 class="title-page">Styleguide</h1>
      
        <div class="subtitle-page">Tweaked Airbnb ESLinting - with extra super powers</div>
      

      <div class="page-actions">
        <div class="actions-group">
          <a class="btn tertiary small round lowercase" href="https://github.com/reactql/docs/tree/master/source/styleguide.md" target="_blank"><span class="icon-github"></span> <span>Edit on GitHub</span></a>
        </div>
      </div>
    </div>

    <div class="document-formatting">
      <h2 id="airbnb">Airbnb+</h2>

<hr>
<p>If you’re using an editor to write code against this starter kit with <a href="http://eslint.org/" target="_blank" rel="external">ESLint</a> powers, you might notice squiggly red lines under perfectly innocent blocks of Javascript code.</p>
<p>That’s because this starter kit’s <a href="http://eslint.org/" target="_blank" rel="external">ESLint</a> config is based on <a href="https://github.com/airbnb/javascript" target="_blank" rel="external">Airbnb style guide</a>, which enforces consistently across your code base.</p>
<p>ReactQL extends the Airbnb config in a few ways:</p>
<h2 id="async_await">Async/await</h2>

<hr>
<p>You’ll find plenty of <code>async/await</code> code already used in the starter kit, including route definitions in the built-in server bundle:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// We use this middleware in Koa 2 to time how long the request takes</span></div><div class="line">app.use(<span class="keyword">async</span> (ctx, next) =&gt; &#123; <span class="comment">// &lt;--- routes are defined as async functions</span></div><div class="line">  <span class="keyword">const</span> start = ms.now();</div><div class="line">  <span class="keyword">await</span> next(); <span class="comment">// &lt;-- we await the render chain before continuing</span></div><div class="line">  <span class="keyword">const</span> end = ms.parse(ms.since(start));</div><div class="line">  <span class="keyword">const</span> total = (end.microseconds + (end.milliseconds * <span class="number">1e3</span>) + (end.seconds * <span class="number">1e6</span>)) / <span class="number">1e3</span>;</div><div class="line">  ctx.set(<span class="string">'Response-Time'</span>, <span class="string">`<span class="subst">$&#123;total&#125;</span>ms`</span>); <span class="comment">// &lt;-- we can manipulate the header later</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Async functions are ‘native’ in Node 7.6 and above. In earlier versions (and in the browser), a async/await polyfill will be added into your resulting bundle automatically.</p>
<h2 id="generators">Generators, for…of</h2>

<hr>
<p>Generators are valid, and so are <code>for...of</code> loops that take advantage of them, so you can run code like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">getPages</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> count = <span class="number">0</span>; count &lt; <span class="number">10</span>; count++) &#123;</div><div class="line">    <span class="keyword">yield</span> someAsyncMethod(<span class="string">`http://example.com/page/<span class="subst">$&#123;count&#125;</span>`</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// Process each Promise sequentially</span></div><div class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> page <span class="keyword">of</span> getPages()) &#123;</div><div class="line">    <span class="keyword">await</span> page;</div><div class="line">    <span class="comment">// do something with `page` before retrieving the next one...</span></div><div class="line">  &#125;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>In the majority of cases, you probably don’t want to write ‘blocking’ code that awaits Promises sequentially, but ReactQL doesn’t get in the way of legitimate use cases.</p>
<h2 id="decorators">Decorators</h2>

<hr>
<p>@decorator syntax is enabled through <a href="https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy" target="_blank" rel="external">babel-plugin-transform-decorators-legacy</a>, so you can decorate classes like so:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">@graphql(gql<span class="string">`</span></div><div class="line">  query TodoAppQuery &#123;</div><div class="line">    todos &#123;</div><div class="line">      id</div><div class="line">      text</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">`)</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">TodoApp</span> <span class="keyword">extends</span> <span class="title">PureComponent</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">const</span> &#123; <span class="attr">data</span>: &#123; todos &#125; &#125; = <span class="keyword">this</span>.props;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;ul&gt;</div><div class="line">        &#123;todos.map((&#123; id, text &#125;) =&gt; (</div><div class="line">          &lt;li key=&#123;id&#125;&gt;&#123;text&#125;&lt;/li&gt;</div><div class="line">        ))&#125;</div><div class="line">      &lt;/ul&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="stateless" title="Stateless React">Use stateless React components</h2>

<hr>
<p>When you’re writing React components that only deal with <code>props</code> or <code>context</code>, it’s usually best to write them as ‘stateless’ components like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Button = <span class="function"><span class="params">props</span> =&gt;</span> (</div><div class="line">  &lt;button className=&#123;props.active ? 'active' : ''&#125;&gt;Some text&lt;/button&gt;</div><div class="line">);</div></pre></td></tr></table></figure>
<p>React will pass <code>props</code> as the first parameter, and <code>context</code> as the second. This allows you to avoid writing classes with a <code>render()</code> method, if all you want to do is create a simple component.</p>
<p>On the flip-side, this <em>will</em> raise an error with the linter:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Don't do this -- it will result in a linting error!</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Button</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;button className=&#123;this.props.active ? 'active' : ''&#125;&gt;Some text&lt;/button&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Alternatively, if you <em>do</em> want to use classes with a single <code>render()</code> method, extend from <code>React.PureComponent</code> and make sure you’re using at least one of <code>this.props</code> or <code>this.context</code> to avoid linting errors– this is especially useful if you want to use <a href="#decorators">decorators</a>, like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">@graphql(query)</div><div class="line"><span class="comment">// This will work fine -- the linter will be happy</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">GraphQLMessage</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">PureComponent</span> </span>&#123;</div><div class="line">  <span class="comment">// It's okay to have a single `render` here, so long as we are extending</span></div><div class="line">  <span class="comment">// from `React.PureComponent` and are using at least `this.props` or</span></div><div class="line">  <span class="comment">// `this.context`</span></div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">this</span>.props;</div><div class="line">    <span class="keyword">const</span> message = data.allMessages &amp;&amp; data.allMessages[<span class="number">0</span>].text;</div><div class="line">    <span class="keyword">const</span> isLoading = data.loading ? <span class="string">'yes'</span> : <span class="string">'nope'</span>;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;div&gt;</div><div class="line">        &lt;h2&gt;Message from GraphQL server: &lt;em&gt;&#123;message&#125;&lt;/em&gt;&lt;/h2&gt;</div><div class="line">        &lt;h2&gt;Currently loading?: &#123;isLoading&#125;&lt;/h2&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="multiple_react" title="Multiple React per page">Multiple React components per page</h2>

<hr>
<p>Generally, it’s a good idea to give your React components their own <code>.js</code> file. But sometimes, you might write ‘helper’ components that won’t get used outside a parent context.</p>
<p>ReactQL lets you write multiple components per file, without generating linter warnings.</p>
<h2 id="propTypes" title="PropTypes">PropTypes must be valid</h2>

<hr>
<p>React <code>propTypes</code> should be a known shape– ‘any’ is forbidden.</p>
<p>This gives you richer console messages in development in the event your React components are missing data, or receiving props they’re not expecting.</p>
<h2 id="fat_arrow" title="Fat-arrow single props">Singular fat-arrow params don’t need brackets</h2>

<hr>
<p>Fat-arrow parameters need only be wrapped in parentheses when there’s more than one of them.</p>
<p>So this is perfectly valid:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// props, not (props)</span></div><div class="line"><span class="keyword">const</span> HOC = <span class="function"><span class="params">props</span> =&gt;</span> &lt;div&gt;&#123;props.message&#125;&lt;<span class="regexp">/div&gt;;</span></div></pre></td></tr></table></figure>
<h2 id="line_breaks" title="Linebreaks">Windows + Linux compatible line-breaks</h2>

<hr>
<p>Line-break style can be either *nix (<code>\n</code>) or Windows (<code>\r\n</code>).</p>
<h2 id="unary" title="Unary operators">Unary operators allowed in <code>for</code> loops</h2>

<hr>
<p>Unary operators <code>++</code> and <code>--</code> are allowed as the final statement in a <code>for</code> loop.</p>
<p>e.g. this is valid:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> count = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</div><div class="line">  <span class="comment">// do something with `i`</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="extensions" title="File extensions">File extensions</h2>

<hr>
<p>JSX can be written in both <code>.js</code> or <code>.jsx</code> files</p>
<h2 id="imports" title="Global import/require">Global import/require is allowed</h2>

<hr>
<p>Since we’re targeting a universal code base in dev and production, there may be code you need to import conditionally. Therefore, <code>require</code> and <code>import</code> can be used globally.</p>
<p>This is valid:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> someModule;</div><div class="line"><span class="keyword">if</span> (SERVER) &#123;</div><div class="line">  <span class="comment">// This will only ever get loaded on the server, and since the code path will</span></div><div class="line">  <span class="comment">// be eliminated by Webpack on the browser, won't wind up in the browser bundle</span></div><div class="line">  someModule = <span class="built_in">require</span>(<span class="string">'someModule'</span>).default;</div><div class="line">&#125;</div><div class="line"><span class="comment">// `someModule` will be `undefined` in the browser, but a usable module on the server</span></div></pre></td></tr></table></figure>
<p>You can also use <code>import</code> outside of top-level code, which will return a promise with the resolved module. This is useful for code-splitting:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getModule</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    <span class="comment">// get the code asynchronously - works in the browser and on the server!</span></div><div class="line">    <span class="keyword">const</span> mod = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">'./someModule'</span>); <span class="comment">// &lt;-- must be defined statically</span></div><div class="line">    <span class="comment">// `mod` is now available for use</span></div><div class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">    <span class="comment">// handle not finding the module</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="modules">Module resolution</h2>

<hr>
<p>Module resolution first looks in our project root folder, and <em>then</em> <code>node_modules</code>, so we can write:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Button <span class="keyword">from</span> <span class="string">'src/button.js'</span>;</div></pre></td></tr></table></figure>
<p>… wherever we are in the codebase, instead of requiring paths relative to the caller.</p>
<h2 id="self_closing">React self-closing tags</h2>

<hr>
<p>React self-enclosing tags should be on the same line as the final prop, e.g.:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;Component</div><div class="line">  someAttribute=&#123;<span class="literal">true</span>&#125; /&gt;</div></pre></td></tr></table></figure>

    </div>
  </div>

  <div class="pagination">
    <div class="content-wrapper">
      
      
        <a class="link primary prev"
          href="layout.html">
          <span class="icon-arrow-left-alt"></span>
          <span class="subtitle-pagination">Previous</span>
          Project layout
        </a>
      
      
        <a class="link primary next"
          href="modules.html">
          <span class="subtitle-pagination">Next</span>
          Module resolution
          <span class="icon-arrow-right-alt"></span>
        </a>
      
    </div>
  </div>

  <div class="github">
    <a class="link tertiary " href="https://github.com/reactql/docs/tree/master/source/styleguide.md" target="_blank">
      <span class="icon-github"></span>Edit on GitHub</a>
  </div>
</div>

    <script src="/docs/script/smooth-scroll.min.js"></script>
    <script src="/docs/script/main.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

    <script>
     
      

      // search box
      

      
    </script>
  </body>
</html>
